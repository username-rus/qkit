Можно заметить что я изобретаю велосипед, и это бессмысленно, когда есть async/await. Действительно нет никаких принципиальных проблем сделать все через async/await, которые невозможно было бы решить, кроме одной - производительность. Тесты "на вскидку" показали что async/await работают достаточно медленно, и у меня сложилось впечатление что это скорее механизм синхронизации для небольшого числа асинхронной функциональности. То есть при использовании этого массово, производительность упадет довольно сильно. Хотя может попросту страдать реализация. В любом случае, перед выпуском эксперементальной версии на async/await необходимо решить еще кое что. Это уже будет версия 0.3, после чего можно посмотреть в сторону async/await.
